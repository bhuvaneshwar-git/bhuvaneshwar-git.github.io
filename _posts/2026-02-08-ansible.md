---
title: AWX Documentation
date: 2026-02-07
categories: [project]
tags: [project]
---

# AWX Documentation

<ins><em>**Tools**</em></ins>: 

1. AWX / Ansible Tower
2. Github
3. minikube
4. openssh (client and server)

<ins><em>**Scope**</em></ins>: This documentation defines the standard procedures for **installing**, **configuring**, **managing**, and **operating AWX (Ansible Tower)** to automate IT tasks such as configuration management, application deployment, patching and compliance enforcement.

# <ins><em>**Process Description**</em></ins>:

## **a)** **Ansible Service Account Creation & Privilege Configuration** :

<ins><em>**Step1**</em></ins>: Access the target system using an existing administrative account.

<ins><em>**Step2**</em></ins>: Edit the sudoers file to configure privileged access for the Ansible service account.

<ins><em>**Step3**</em></ins>: Grant sudo privileges to the ansibleadmin account to allow execution of administrative commands.

<ins><em>**Step4**</em></ins>: Verify that the ansibleadmin account can successfully execute sudo commands.

## **b) SSH Configuration** :

<ins><em>**Step1**</em></ins>: Install and enable the OpenSSH server on the target systems.

<ins><em>**Step2**</em></ins>: Generate an SSH key pair on the Ansible Tower control node.

<ins><em>**Step3**</em></ins>: Copy the public SSH key to the target systems to enable passwordless authentication.

<ins><em>**Step4**</em></ins>: Verify SSH connectivity between the control node and the target systems.

## **c) Playbook Management (GitHub / GitLab)** :


<ins><em>**Step1**</em></ins>: Create the required Ansible playbook for the wallpaper policy.

<ins><em>**Step2**</em></ins>: Upload and maintain the playbook in the approved Git repository (GitHub/GitLab).

<ins><em>**Step3**</em></ins>: Configure the Git repository as a project source in Ansible Tower.

<ins><em>**Step4**</em></ins>: Synchronize the project in Ansible Tower to fetch the latest playbook version.

## **d) Policy Deployment (Wallpaper Policy)** : 

<ins><em>**Step1**</em></ins>: Define the target systems (hosts) in Ansible Tower by adding the required servers that will receive the wallpaper policy.

<ins><em>**Step2**</em></ins>: Group the target systems into an inventory to logically organize and manage the systems where the policy will be applied.

<ins><em>**Step3**</em></ins>: Configure access credentials to allow Ansible Tower to securely connect to the target systems for automation activities.

<ins><em>**Step4**</em></ins>: Create a job template by selecting the inventory (target systems), project (playbook source), wallpaper policy playbook, and the required access credentials.

<ins><em>**Step5**</em></ins>: Execute the job template to deploy the wallpaper policy to the selected target systems.

<ins><em>**Step6**</em></ins>: Monitor the job execution status through the Ansible Tower interface and review the execution output for any errors or failures.

<ins><em>**Step7**</em></ins>: Verify that the wallpaper policy has been successfully applied by confirming the job completion status and visually validating the wallpaper on the target systems.

# <ins>**High Level Process Diagram**</ins>

![](/assets/images/project/Picture1.png)

# <ins>**Process**</ins>

## **a) Ansible Service Account Creation & Privilege Configuration** : 

![](/assets/images/project/2026-02-08_10-03.png)

<ins><em>**Step1**</em></ins>: Access the target system using an existing administrative account.

<ins><em>**Step2**</em></ins>: Grant sudo privileges to ansibleadmin by editing the 
sudoers file:
**sudo visudo**

<ins><em>**Step3**</em></ins>: Add the following line under # User privilege specification:
**ansibleadmin ALL=(ALL:ALL) ALL**

<ins><em>**Step4**</em></ins>: Verify that ansibleadmin can run sudo commands:
**su - ansibleadmin**, **sudo ansibleadmin** and check **whoami**

## **b) SSH Configuration** : 

### <ins><em>**Step1**</em></ins> : Install and enable the OpenSSH server on the target systems.

i. Verify if OpenSSH Server is Installed
**dpkg -l | grep openssh-server**

ii. If it is not installed install Openssh by following commands :

**sudo apt update**

**sudo apt install -y openssh-server**

iii. Start and Enable SSH service :

**sudo systemctl start sshd**

**sudo systemctl enable sshd**

**sudo systemctl status sshd** 

iv. Verify SSH access

v. From another machine (or the control node), 
run: **ssh ansibleadmin@target_system_ip**

### <ins><em>**Step2**</em></ins> : Generate an SSH key pair on the Ansible Tower control node.

![](/assets/images/project/2026-02-08_10-26.png)

i. On the control node, generate an SSH key pair:
**ssh-keygen -t rsa -b 4096 -f ~/.ssh/id_rsa_ansible**

### <ins><em>**Step 3**</em></ins> : Copy the public SSH key to the target systems to enable passwordless authentication.

![](/assets/images/project/2026-02-08_10-30.png)

i. Copy the public key to the target system:
**ssh-copy-id ansibleadmin@target_system_ip**

### <ins><em>**Step 4**</em></ins> : Verify SSH connectivity between the control node and the target systems.

i. Test passwordless SSH:
**ssh ansibleadmin@target_system_ip**

## c) Ansible Tower (AWX) Installation and Configuration

### <ins><em>**Step 1**</em></ins> : Install and configure Minikube on the control node.

![](/assets/images/project/2026-02-08_11-48.png)

i. Log in to the control node with administrative privileges.

ii. Download the Minikube binary.
``curl -LO https://storage.googleapis.com/minikube/releases/latest/minikube-linux-amd64``

iii.Install the Minikube binary and remove the downloaded file.

``sudo install minikube-linux-amd64 /usr/local/bin/minikube``

``rm -f minikube-linux-amd64``

iv. Verify the Minikube installation.
minikube version

v. Start Minikube using the required driver.
minikube start

### <ins><em>**Step 2**</em></ins> : Install kubectl on the Control Node

i. Download the latest stable version of kubectl.
``curl -LO "https://dl.k8s.io/release/$(curl -L -s https://dl.k8s.io/release/stable.txt)/bin/linux/amd64/kubectl"``

ii.Install kubectl with appropriate permissions.
**install -o root -g root -m 0755 kubectl /usr/local/bin/kubectl**

iii.Verify the kubectl installation.
``kubectl version --client``

### Step 3 : Deploy the AWX Operator in the Minikube Environment

i. Clone the AWX Operator repository
```bash
git clone https://github.com/ansible/awx-operator.git
```
ii.Navigate to the AWX Operator directory.
```bash
cd awx-operator/
```

iii.Check out the required AWX Operator version.
```bash
git checkout 2.19.1
```

iv.Set the namespace for AWX deployment.
```bash
export NAMESPACE=awx
```
v.Deploy the AWX Operator.
```bash
make deploy
```
vi.Create the AWX instance using the provided configuration file.
```bash
kubectl create -f awx-demo.yml -n awx
```

### <ins><em>**Step 4**</em></ins> : Verify AWX Pods and Services

![](/assets/images/project/2026-02-08_11-56.png)

i.Verify that all AWX-related pods are running.
```bash
kubectl get pods -n awx
```
ii.Verify that the required services are created.
```bash
kubectl get svc -n awx
```

### <ins><em>**Step 5**</em></ins> :  Access and Validate Ansible Tower (AWX)

i.Retrieve the AWX service URL using Minikube.
```bash
minikube service awx-demo-service --url -n awx
```

ii.Open the retrieved URL in a web browser.

iii.Log in to the Ansible Tower (AWX) web interface using the default or configured credentials.

### <ins><em>**Step 6**</em></ins> : Change the AWX Admin Password

![](/assets/images/project/2026-02-08_11-59.png)

i.Identify the AWX web pod name.
```bash
kubectl get pods -n awx | grep awx-demo-web
```
ii.Access the AWX web pod.
```bash
kubectl exec -it <awx-web-podname> -n awx -- bash
```
iii.Change the admin password.
```bash
awx-manage changepassword admin
```
iv.Exit from the pod shell.
```bash
exit
```
### <ins><em>**Step 7**</em></ins> : Validate Ansible Tower Operation

![](/assets/images/project/2026-02-08_12-02.png)

i. Log in to the Ansible Tower web interface using the updated admin password.

ii. Confirm that the dashboard loads successfully.

iii. Execute a test job template to validate connectivity and execution.

iv. Review job logs and confirm successful completion.

## d) Playbook Management (GitHub / GitLab) :

### <ins><em>**Step 1**</em></ins> : Create the Ansible Playbook for the Wallpaper Policy

i.Log in to the control node or development system.

ii.Create a new Ansible playbook file for the wallpaper policy.

iii.Define the required tasks to copy the wallpaper file and enforce the configuration on target systems.

iv.Validate the playbook syntax and logic locally.

### <ins><em>**Step 2**</em></ins> : Upload and Maintain the Playbook in the Git Repository

![](/assets/images/project/2026-02-08_12-07.png)

i.Create or use an approved Git repository in GitHub or GitLab.

ii.Add the wallpaper policy playbook to the repository.

iii.Commit the changes with an appropriate message

iv.Push the playbook to the central Git repository.

### Step 3 : Configure the Git Repository as a Project Source in Ansible Tower

![](/assets/images/project/2026-02-08_12-08.png)

i.Log in to the Ansible Tower (AWX) web interface.

ii.Navigate to Projects and create a new project.

iii.Select Git as the source control type.

iv.Provide the Git repository URL and required authentication details.

### <ins><em>**Step 4**</em></ins> : Synchronize the Project in Ansible Tower

![](/assets/images/project/2026-02-08_12-09.png)

i.Initiate a project synchronization in Ansible Tower.

ii.Monitor the synchronization status and logs.

iii.Confirm that the latest version of the playbook is successfully fetched.

iv.Verify the availability of the playbook for job template creation.

## e)Policy Deployement 

## <ins><em>**Step 1**</em></ins> : Define the target systems (hosts) in Ansible Tower by adding the required servers that will receive the wallpaper policy.

![](/assets/images/project/2026-02-08_12-11.png)

i. Log in to the Ansible Tower (AWX) web interface.

ii. Navigate to Resources → Hosts.

iii. Click Add to register a new target system.

iv. Enter the required details such as:
**IP address**

v. Save the host

### <ins><em>**Step 2**</em></ins> : Create and Configure Inventory

![](/assets/images/project/2026-02-08_12-12.png)

![](/assets/images/project/Picture2.png)

i.Navigate to Resources → Inventories.

ii.Click Add to create a new inventory.

iii.Provide an inventory name that represents the target systems

iv.Save the inventory.

v.Confirm that all required target systems are listed under the inventory.

### <ins><em>**Step 3**</em></ins> : Configure Access Credentials

![](/assets/images/project/Picture3.png)

i.Navigate to Resources → Credentials.

ii.Click Add to create a new credential.

iii.Select the appropriate credential type (for example: Machine).

iv.Under Type Details, enter the following information:
Username: ansibleadmin
Password:

v.In the SSH Private Key field:

+ Upload or paste the private SSH key associated with the ansibleadmin account.

+ This key enables secure, passwordless SSH access to the target systems.

vi. Configure Privilege Escalation settings:

+ Privilege Escalation Method: **Select sudo**

+ Privilege Escalation **Username: ansibleadmin**

+ Privilege Escalation **Password:**

+ Click Save to store the credential.

### <ins><em>**Step 4**</em></ins> : Synchronize the Project (Playbook Source)

![](/assets/images/project/Picture4.png)

![](/assets/images/project/Picture5.png)

i.Navigate to Resources → Projects.

ii.Select the approved project linked to the GitHub or GitLab repository.

iii.Click Sync to fetch the latest version of the wallpaper policy playbook.

iv.Verify that the synchronization completes successfully.

### <ins><em>**Step 5**</em></ins> : Create a Job Template

i. Navigate to Resources → Templates.

ii. Click Add → Job Template.

iii. Provide a name for the template 

iv. Select:

+ The inventory containing the target systems

+ The wallpaper policy playbook

+ The required access credential

+ Execution encirnoment as AWX EE (latest)

+ Credentials SSh:Admin

+ Verbosity as 2

+ Enable Privilege Escalation

v. Save the job template.

### <ins><em>**Step 6**</em></ins> : Execute the Job Template

![](/assets/images/project/Picture6.png)

i. Locate the created job template in the Templates list.

ii. Click Launch to start the policy deployment.

iii. Ansible Tower begins executing the playbook on the selected target systems.

### <ins><em>**Step 7**</em></ins>: Monitor Job Execution and Logs

![](/assets/images/project/Picture7.png)

i. Monitor the job progress in real time from the job output screen.

ii. Review task execution messages to ensure steps are completed successfully.

iii. If any errors occur, review the displayed logs to identify the cause.

iv. Confirm that the job status completes successfully.

### <ins><em>**Step 8**</em></ins> : Verify Policy Deployment

i. Log in to one or more target systems.

ii. Confirm that the wallpaper has been updated as per the defined policy.

iii. Ensure the wallpaper remains applied after user login or system restart, if applicable.

iv. Record the successful deployment for audit and compliance purposes.